<div class="application-form-container">
  <!-- NavBar -->
  <nav class="nav-bar">
    <img src="https://api.builder.io/api/v1/image/assets/TEMP/dd040d2b1047ae7ab1d7fa523e17125d86027ae8?width=352" alt="Harmony & Help Academy" class="academy-logo" />
    
    <div class="nav-actions">
      <button class="nav-btn search-btn">
        <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M21.3341 21.0002L16.9941 16.6602" stroke="#281B21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M11.334 19C15.7523 19 19.334 15.4183 19.334 11C19.334 6.58172 15.7523 3 11.334 3C6.91571 3 3.33398 6.58172 3.33398 11C3.33398 15.4183 6.91571 19 11.334 19Z" stroke="#281B21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <button class="nav-btn grid-btn">
        <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M19.334 3H5.33398C4.22941 3 3.33398 3.89543 3.33398 5V19C3.33398 20.1046 4.22941 21 5.33398 21H19.334C20.4386 21 21.334 20.1046 21.334 19V5C21.334 3.89543 20.4386 3 19.334 3Z" stroke="#281B21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M3.33398 9H21.334" stroke="#281B21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M3.33398 15H21.334" stroke="#281B21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M9.33398 3V21" stroke="#281B21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M15.334 3V21" stroke="#281B21" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <button class="profile-btn">
        <img src="https://api.builder.io/api/v1/image/assets/TEMP/caa8a92189210ff17a7a785dd39a7ddd71640050?width=80" alt="Profile" class="profile-image" />
      </button>
    </div>
  </nav>

  <div class="main-container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-content">
        <button class="sidebar-btn" [class.active]="currentView === 'dashboard'" (click)="navigateToView('dashboard')">
          <div class="sidebar-btn-icon">
            <img src="https://api.builder.io/api/v1/image/assets/TEMP/5db79ed3091fb54d88d29c6d6dd36dba55f9e6c6?width=48" alt="" />
          </div>
          <span class="sidebar-btn-text">Dashboard</span>
        </button>
        
        <button class="sidebar-btn active" [class.active]="currentView === 'course-application'" (click)="navigateToView('course-application')">
          <div class="sidebar-btn-icon">
            <img src="https://api.builder.io/api/v1/image/assets/TEMP/197bc7124c54c40961e68a647ffc1399f6827786?width=48" alt="" />
          </div>
          <span class="sidebar-btn-text">Course Application</span>
        </button>
        
        <button class="sidebar-btn" [class.active]="currentView === 'my-enrollment'" (click)="navigateToView('my-enrollment')">
          <div class="sidebar-btn-icon">
            <img src="https://api.builder.io/api/v1/image/assets/TEMP/1903017593487e37ae9cab163a5f70ff828fd707?width=48" alt="" />
          </div>
          <span class="sidebar-btn-text">My Enrolment</span>
        </button>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <div class="content-wrapper">
        
        <!-- Page Header - Always visible -->
        <div class="page-header">
          <div class="header-frame">
            <div class="title-and-status-container">
              <div class="title-container">
                <h2 class="welcome-back-dr">Welcome back, {{ userInfo.fullName.split(' ')[0] }}!</h2>
                <img class="caret-down-icon" alt="" src="assets/caret-down2.svg" />
              </div>
              <button class="projectstatus" *ngIf="currentView === 'dashboard'">
                <div class="status-dot"></div>
                <div class="active">Active</div>
              </button>
            </div>
            <button class="actions-container" *ngIf="currentView === 'dashboard'">
              <button class="buttonfilledstandard">
                <div class="share">Share</div>
              </button>
              <img class="iconbuttonoutlinedstandard" alt="" src="assets/iconButtonOutlinedStandard.svg" />
            </button>
          </div>
        </div>

        <!-- Navigation Tabs - Always visible below header -->
        <nav class="dashboard-tabs">
          <button class="tab-item-1" [class.active]="currentView === 'dashboard'" (click)="navigateToView('dashboard')">
            <div class="dashboard">Dashboard</div>
          </button>
          <div class="tabitem3" [class.active]="currentView === 'course-application'" (click)="navigateToView('course-application')">
            <div class="applications">Applications</div>
          </div>
          <div class="tabitem3" [class.active]="currentView === 'my-enrollment'" (click)="navigateToView('my-enrollment')">
            <div class="applications">Enrolments</div>
          </div>
        </nav>

        <!-- Dashboard View -->
        <div *ngIf="currentView === 'dashboard'" class="dashboard-view">

          <!-- Dashboard Stats Cards -->
          <section class="dashboard-number-card-strip">
            <div class="student-dashboard-container">
              <div class="card-container">
                <div class="numbercard" *ngFor="let item of dashboardStats">
                  <div class="frame">
                    <b class="profile">{{ item.title }}</b>
                    <img class="dots-horizontal-icon" alt="" src="assets/dots-horizontal.svg" />
                  </div>
                  <div class="number-detail">
                    <h2 class="number-values">{{ item.value }}</h2>
                    <div class="complete">{{ item.description }}</div>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <!-- Application Status Table -->
          <section class="table">
            <div class="column1">
              <div class="student-dashboard-title">
                <div class="label">
                  <div class="application-status">Application Status</div>
                  <img class="caret-down-icon" alt="" src="assets/caret-down.svg" />
                </div>
              </div>
              <div class="text-cell" *ngFor="let application of applicationStatuses">
                <div class="iso-9000-internal">{{ application.courseName }}</div>
              </div>
            </div>
            <div class="chipcolumn">
              <button class="title2">
                <button class="student-dashboard-label">
                  <div class="status-label"></div>
                  <img class="caret-down-icon" alt="" src="assets/caret-down.svg" />
                </button>
              </button>
              <div class="chip" *ngFor="let application of applicationStatuses">
                <div class="student-dashboard-chip" [class]="'status-' + application.status.toLowerCase().replace(' ', '-')">
                  <div class="status-dot" [class]="'status-dot-' + application.status.toLowerCase().replace(' ', '-')"></div>
                  <div class="approved">{{ application.status }}</div>
                </div>
              </div>
            </div>
          </section>

          <!-- Enrolled Courses Section -->
          <div class="event-lineup-grid">
            <h1 class="enrolled-courses">Enrolled Courses</h1>
            <section class="row">
              <div class="event-card" *ngFor="let course of enrolledCourses">
                <img class="a-professional-setting-featuri" [src]="course.image" alt="{{ course.title }}" />
                <div class="textcontent">
                  <h3 class="event-card-iso-9000-internal">{{ course.title }}</h3>
                  <div class="next-deadline-2024-02-15">{{ course.nextDeadline }}</div>
                </div>
              </div>
            </section>
          </div>
        </div>

        <!-- Course Application View -->
        <div *ngIf="currentView === 'course-application'" class="course-application-view">
          <!-- Subtitle Section -->
          <div class="content-header">
            <div class="header-text">
              <p class="main-subtitle">Complete your course application in 4 simple steps</p>
            </div>
          </div>

        <!-- Progress Section -->
        <div class="progress-section">
          <div class="progress-indicators">
            <div class="progress-step">
              <div class="step-line completed"></div>
              <svg class="step-arrow" width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.08301 12L10.083 8L6.08301 4" stroke="#7E2549" stroke-opacity="0.4" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="progress-step">
              <div class="step-line"></div>
              <svg class="step-arrow" width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.16602 12L10.166 8L6.16602 4" stroke="#7E2549" stroke-opacity="0.4" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="progress-step">
              <div class="step-line"></div>
              <svg class="step-arrow" width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.25 12L10.25 8L6.25 4" stroke="#7E2549" stroke-opacity="0.4" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="progress-step">
              <div class="step-line"></div>
            </div>
          </div>
          <div class="step-text">Step {{ currentStep }} of 4</div>
        </div>

        <!-- Form Card -->
        <div class="form-card">
          <div class="form-content">
            <!-- Educational and Work Background Section -->
            <div class="educational-work-section" *ngIf="currentStep === 2">
              <h2 class="section-title">Educational and Work Background</h2>

              <!-- Educational Background -->
              <div class="educational-section">
                <h3 class="subsection-title">Educational Background</h3>
                
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Last School Attended *</label>
                    <input type="text" class="form-input" placeholder="Enter school name" [(ngModel)]="educationalBackground.lastSchoolAttended" (ngModelChange)="onFormChange()">
                  </div>
                  <div class="form-group">
                    <label class="form-label">Highest Grade *</label>
                    <input type="text" class="form-input" placeholder="e.g., Grade 12" [(ngModel)]="educationalBackground.highestGrade" (ngModelChange)="onFormChange()">
                  </div>
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Date Grade Obtained *</label>
                    <input type="date" class="form-input" [(ngModel)]="educationalBackground.dateGradeObtained" (ngModelChange)="onFormChange()">
                  </div>
                  <div class="form-group">
                    <label class="form-label">Highest Qualification *</label>
                    <select class="form-select" [(ngModel)]="educationalBackground.highestQualification" (ngModelChange)="onFormChange()">
                      <option value="">Select Qualification</option>
                      <option value="matric">Matric (Grade 12)</option>
                      <option value="certificate">Certificate</option>
                      <option value="diploma">Diploma</option>
                      <option value="degree">Degree</option>
                      <option value="honours">Honours</option>
                      <option value="masters">Masters</option>
                      <option value="phd">PhD</option>
                    </select>
                  </div>
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Qualification Name *</label>
                    <input type="text" class="form-input" placeholder="e.g., National Senior Certificate" [(ngModel)]="educationalBackground.qualificationName" (ngModelChange)="onFormChange()">
                  </div>
                  <div class="form-group">
                    <label class="form-label">Year Obtained *</label>
                    <input type="number" class="form-input" placeholder="e.g., 2020" [(ngModel)]="educationalBackground.yearObtained" (ngModelChange)="onFormChange()">
                  </div>
                </div>

                <div class="form-row">
                  <div class="form-group full-width">
                    <label class="form-label">Institution Attended *</label>
                    <input type="text" class="form-input" placeholder="Enter institution name" [(ngModel)]="educationalBackground.institutionAttended" (ngModelChange)="onFormChange()">
                  </div>
                </div>
              </div>

              <!-- Work Background -->
              <div class="work-section">
                <h3 class="subsection-title">Work Background</h3>
                
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Socio-Economic Status *</label>
                    <select class="form-select" [(ngModel)]="workBackground.socioEconomicStatus" (ngModelChange)="onFormChange()">
                      <option value="">Select Status</option>
                      <option value="employed">Employed</option>
                      <option value="unemployed">Unemployed</option>
                      <option value="student">Student</option>
                      <option value="retired">Retired</option>
                      <option value="self-employed">Self-Employed</option>
                      <option value="freelancer">Freelancer</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>

            <!-- Programme Details Section (Step 3) -->
            <div class="programme-details-section" *ngIf="currentStep === 3">
              <h2 class="section-title">Details of Programme Applying</h2>

              <!-- Course Name -->
              <div class="form-row">
                <div class="form-group full-width">
                  <label class="form-label">Course Name *</label>
                  <input type="text" class="form-input" placeholder="Enter course name" [(ngModel)]="programmeDetails.courseName" (ngModelChange)="onFormChange()">
                </div>
              </div>

              <!-- Learning Resources -->
              <div class="learning-resources-section">
                <h3 class="subsection-title">Do you have access to Learning Resources? *</h3>
                
                <div class="checkbox-group">
                  <label class="checkbox-label">
                    <input type="checkbox" [(ngModel)]="programmeDetails.hasComputer" (ngModelChange)="onFormChange()">
                    <span class="checkbox-text">Computer</span>
                  </label>
                  
                  <label class="checkbox-label">
                    <input type="checkbox" [(ngModel)]="programmeDetails.hasInternet" (ngModelChange)="onFormChange()">
                    <span class="checkbox-text">Internet</span>
                  </label>
                  
                  <label class="checkbox-label">
                    <input type="checkbox" [(ngModel)]="programmeDetails.hasLibrary" (ngModelChange)="onFormChange()">
                    <span class="checkbox-text">Library</span>
                  </label>
                </div>
              </div>

              <!-- Course Requirements -->
              <div class="course-requirements-section">
                <h3 class="subsection-title">Course Requirements</h3>
                <ul class="requirements-list">
                  <li>Access to computer and internet for online learning</li>
                  <li>Commitment to attend all scheduled sessions</li>
                  <li>Valid identification document</li>
                </ul>
              </div>
            </div>
          </div>
        </div>

          <!-- Form Actions -->
          <div class="form-actions">
            <button class="prev-btn" (click)="previousStep()" [disabled]="currentStep === 1">
              <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M13.167 15.5L8.167 10.5L13.167 5.5" stroke="#7E2549" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span class="btn-text">Previous</span>
            </button>
            
            <button class="next-btn" (click)="nextStep()">
              <span class="btn-text">Next</span>
              <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.83301 15.5L12.833 10.5L7.83301 5.5" stroke="white" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
        </div>

        <!-- My Enrollment View -->
        <div *ngIf="currentView === 'my-enrollment'" class="my-enrollment-view">
          <div class="content-header">
            <div class="header-text">
              <p class="main-subtitle">View your enrolled courses and progress</p>
            </div>
          </div>
          <!-- Enrollment content will be added here -->
        </div>
      </div>
    </main>
  </div>
</div>
