<div class="dashboard">
  <div class="welcome-section">
    <h1 class="welcome-title">Welcome back, {{ userName }}!</h1>
    <p class="welcome-subtitle">Here's an overview of your academic journey</p>
  </div>

  <div class="dashboard-grid">
    <!-- Quick Stats -->
    <div class="stats-section">
      <h2 class="section-title">Quick Stats</h2>
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 12l2 2 4-4"></path>
              <circle cx="12" cy="12" r="10"></circle>
            </svg>
          </div>
          <div class="stat-content">
            <div class="stat-number">{{ completedCourses }}</div>
            <div class="stat-label">Completed Courses</div>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
            </svg>
          </div>
          <div class="stat-content">
            <div class="stat-number">R{{ totalFeesPaid | number }}</div>
            <div class="stat-label">Total Fees Paid</div>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"></circle>
              <polyline points="12,6 12,12 16,14"></polyline>
            </svg>
          </div>
          <div class="stat-content">
            <div class="stat-number">{{ currentGPA }}</div>
            <div class="stat-label">Current GPA</div>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
            </svg>
          </div>
          <div class="stat-content">
            <div class="stat-number">{{ attendanceRate }}%</div>
            <div class="stat-label">Attendance Rate</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Current Course -->
    <div class="current-course-section">
      <h2 class="section-title">Current Course</h2>
      <div class="course-card" *ngIf="currentCourse">
        <div class="course-header">
          <h3>{{ currentCourse.name }}</h3>
          <span class="course-status" [class]="currentCourse.status">{{ currentCourse.status }}</span>
        </div>
        <p class="course-description">{{ currentCourse.description }}</p>
        <div class="course-progress">
          <div class="progress-info">
            <span>Progress</span>
            <span>{{ currentCourse.progress }}%</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" [style.width.%]="currentCourse.progress"></div>
          </div>
        </div>
        <div class="course-details">
          <div class="detail-item">
            <span class="detail-label">Start Date:</span>
            <span class="detail-value">{{ currentCourse.startDate }}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">End Date:</span>
            <span class="detail-value">{{ currentCourse.endDate }}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Instructor:</span>
            <span class="detail-value">{{ currentCourse.instructor }}</span>
          </div>
        </div>
        <div class="course-actions">
          <button class="btn btn-primary" (click)="viewCourse()">View Course</button>
          <button class="btn btn-secondary" (click)="viewSchedule()">View Schedule</button>
        </div>
      </div>
      
      <div class="no-course" *ngIf="!currentCourse">
        <div class="no-course-icon">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
          </svg>
        </div>
        <h3>No Active Course</h3>
        <p>You don't have any active courses at the moment. Apply for a new course to get started.</p>
        <button class="btn btn-primary" routerLink="/student-portal/course-application">Apply for Course</button>
      </div>
    </div>

    <!-- Recent Activities -->
    <div class="activities-section">
      <h2 class="section-title">Recent Activities</h2>
      <div class="activities-list">
        <div class="activity-item" *ngFor="let activity of recentActivities">
          <div class="activity-icon" [class]="activity.type">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10" *ngIf="activity.type === 'assignment'"></circle>
              <path d="M9 12l2 2 4-4" *ngIf="activity.type === 'completed'"></path>
              <path d="M22 12h-4l-3 9L9 3l-3 9H2" *ngIf="activity.type === 'grade'"></path>
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" *ngIf="activity.type === 'announcement'"></path>
            </svg>
          </div>
          <div class="activity-content">
            <div class="activity-title">{{ activity.title }}</div>
            <div class="activity-description">{{ activity.description }}</div>
            <div class="activity-time">{{ activity.time }}</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Upcoming Events -->
    <div class="events-section">
      <h2 class="section-title">Upcoming Events</h2>
      <div class="events-list">
        <div class="event-item" *ngFor="let event of upcomingEvents">
          <div class="event-date">
            <div class="event-day">{{ event.day }}</div>
            <div class="event-month">{{ event.month }}</div>
          </div>
          <div class="event-content">
            <div class="event-title">{{ event.title }}</div>
            <div class="event-time">{{ event.time }}</div>
            <div class="event-location">{{ event.location }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>